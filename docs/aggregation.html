

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Series-wise data aggregation &#8212; plotly-resampler &#34;0.8.3.2&#34; documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'aggregation';</script>
    <link rel="shortcut icon" href="_static/icon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  <div class="navbar-header-items__start">
    
      <div class="navbar-item">
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="Logo image"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="Logo image"/>`);</script>
  
  
</a></div>
    
  </div>
  
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="getting_started.html">
                        Get started üöÄ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="dash_app_integration.html">
                        Dash apps ü§ù
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api_reference.html">
                        API üìñ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="FAQ.html">
                        FAQ ‚ùì
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
        </div>
      
      
        <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/predict-idlab/plotly-resampler" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
      
        <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">
<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar hide-on-wide">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item"><nav class="navbar-nav">
  <p class="sidebar-header-items__title"
     role="heading"
     aria-level="1"
     aria-label="Site Navigation">
    Site Navigation
  </p>
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="getting_started.html">
                        Get started üöÄ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="dash_app_integration.html">
                        Dash apps ü§ù
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="api_reference.html">
                        API üìñ
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="FAQ.html">
                        FAQ ‚ùì
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">
<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/predict-idlab/plotly-resampler" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
</ul></div>
        
          <div class="navbar-item">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        
      </div>
    
  </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumbs">
  <ul class="bd-breadcrumbs" role="navigation" aria-label="Breadcrumb">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">Series-wise data aggregation</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="series-wise-data-aggregation">
<h1>Series-wise data aggregation<a class="headerlink" href="#series-wise-data-aggregation" title="Permalink to this headline">#</a></h1>
<section id="module-plotly_resampler.aggregation.aggregation_interface">
<span id="aggregation-interface"></span><h2>Aggregation interface<a class="headerlink" href="#module-plotly_resampler.aggregation.aggregation_interface" title="Permalink to this headline">#</a></h2>
<p>AbstractAggregator interface-class, subclassed by concrete aggregators.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregation_interface.AbstractAggregator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregation_interface.</span></span><span class="sig-name descname"><span class="pre">AbstractAggregator</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregation_interface.html#AbstractAggregator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregation_interface.AbstractAggregator" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregation_interface.AbstractAggregator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interleave_gaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_dtype_regex_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_dtype_regex_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">downsample_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregation_interface.html#AbstractAggregator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregation_interface.AbstractAggregator.__init__" title="Permalink to this definition">#</a></dt>
<dd><p>Constructor of AbstractSeriesAggregator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interleave_gaps</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Whether None values should be added when there are gaps / irregularly
sampled data. An x-range based approach is used to determine the gaps /
irregularly sampled data. By default, True.</p></li>
<li><p><strong>x_dtype_regex_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) ‚Äì List containing the regex matching the supported datatypes for the x array,
by default None.</p></li>
<li><p><strong>y_dtype_regex_list</strong> (<em>List</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) ‚Äì List containing the regex matching the supported datatypes for the y array,
by default None.</p></li>
<li><p><strong>downsample_kwargs</strong> (<em>dict</em>) ‚Äì Additional kwargs passed to the downsample method.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregation_interface.DataAggregator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregation_interface.</span></span><span class="sig-name descname"><span class="pre">DataAggregator</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregation_interface.html#DataAggregator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregation_interface.DataAggregator" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.aggregation_interface.AbstractAggregator" title="plotly_resampler.aggregation.aggregation_interface.AbstractAggregator"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.aggregation_interface.AbstractAggregator</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Implementation of the AbstractAggregator interface for data aggregation.</p>
<p>DataAggregator differs from DataPointSelector in that it doesn‚Äôt select data points,
but rather aggregates the data (e.g., mean).
As such, the <cite>_aggregate</cite> method is responsible for aggregating the data, and thus
returns a tuple of the aggregated x and y values.</p>
<p>Concrete implementations of this class must implement the <cite>_aggregate</cite> method, and
have full responsibility on how they deal with other high-frequency properties, such
as <cite>hovertext</cite>, <cite>marker_size</cite>, ‚Äòmarker_color`, etc ‚Ä¶</p>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregation_interface.DataAggregator.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_out</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregation_interface.html#DataAggregator.aggregate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregation_interface.DataAggregator.aggregate" title="Permalink to this definition">#</a></dt>
<dd><p>Aggregate the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) ‚Äì The x and y data of the to-be-aggregated series.
The x array is optional (i.e., if only 1 array is passed, it is assumed to
be the y array).
The array(s) must be 1-dimensional, and have the same length (if x is
passed).
These cannot be passed as keyword arguments, as they are positional-only.</p></li>
<li><p><strong>y</strong> (<em>np.ndarray</em>) ‚Äì The x and y data of the to-be-aggregated series.
The x array is optional (i.e., if only 1 array is passed, it is assumed to
be the y array).
The array(s) must be 1-dimensional, and have the same length (if x is
passed).
These cannot be passed as keyword arguments, as they are positional-only.</p></li>
<li><p><strong>n_out</strong> (<em>int</em>) ‚Äì The number of samples which the downsampled series should contain.
This should be passed as a keyword argument.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The aggregated x and y data, respectively.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregation_interface.DataPointSelector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregation_interface.</span></span><span class="sig-name descname"><span class="pre">DataPointSelector</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregation_interface.html#DataPointSelector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregation_interface.DataPointSelector" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.aggregation_interface.AbstractAggregator" title="plotly_resampler.aggregation.aggregation_interface.AbstractAggregator"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.aggregation_interface.AbstractAggregator</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Implementation of the AbstractAggregator interface for data point selection.</p>
<p>DataPointSelector differs from DataAggregator in that they don‚Äôt aggregate the data
(e.g., mean) but instead select data points (e.g., first, last, min, max, etc ‚Ä¶).
As such, the <cite>_arg_downsample</cite> method returns the index positions of the selected
data points.</p>
<p>This class utilizes the <cite>arg_downsample</cite> method to compute the index positions.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregation_interface.DataPointSelector.arg_downsample">
<span class="sig-name descname"><span class="pre">arg_downsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_out</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregation_interface.html#DataPointSelector.arg_downsample"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregation_interface.DataPointSelector.arg_downsample" title="Permalink to this definition">#</a></dt>
<dd><p>Compute the index positions for the downsampled representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.ndarray</em>) ‚Äì The x and y data of the to-be-aggregated series.
The x array is optional (i.e., if only 1 array is passed, it is assumed to
be the y array).
The array(s) must be 1-dimensional, and have the same length (if x is
passed).
These cannot be passed as keyword arguments, as they are positional-only.</p></li>
<li><p><strong>y</strong> (<em>np.ndarray</em>) ‚Äì The x and y data of the to-be-aggregated series.
The x array is optional (i.e., if only 1 array is passed, it is assumed to
be the y array).
The array(s) must be 1-dimensional, and have the same length (if x is
passed).
These cannot be passed as keyword arguments, as they are positional-only.</p></li>
<li><p><strong>n_out</strong> (<em>int</em>) ‚Äì The number of samples which the downsampled series should contain.
This should be passed as a keyword argument.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The index positions of the selected data points.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="module-plotly_resampler.aggregation.aggregators">
<span id="aggregator-classes"></span><h2>Aggregator classes<a class="headerlink" href="#module-plotly_resampler.aggregation.aggregators" title="Permalink to this headline">#</a></h2>
<p>Compatible implementation for various aggregation/downsample methods.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.LTTB">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregators.</span></span><span class="sig-name descname"><span class="pre">LTTB</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#LTTB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.LTTB" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.aggregation_interface.DataPointSelector" title="plotly_resampler.aggregation.aggregation_interface.DataPointSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.aggregation_interface.DataPointSelector</span></code></a></p>
<p>Largest Triangle Three Buckets (LTTB) aggregation method.</p>
<p>This is arguably the most widely used aggregation method. It is based on the
effective area of a triangle (inspired from the line simplification domain).
The algorithm has $O(n)$ complexity, however, for large datasets, it can be much
slower than other algorithms (e.g. MinMax) due to the higher cost of calculating
the areas of triangles.</p>
<p>Thesis: <a class="reference external" href="https://skemman.is/bitstream/1946/15343/3/SS_MSthesis.pdf">https://skemman.is/bitstream/1946/15343/3/SS_MSthesis.pdf</a> <br>
Details on visual representativeness &amp; stability: <a class="reference external" href="https://arxiv.org/abs/2304.00900">https://arxiv.org/abs/2304.00900</a></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><cite>LTTB</cite> doesn‚Äôt scale super-well when moving to really large datasets, so when
dealing with more than 1 million samples, you might consider using
<a class="reference internal" href="#plotly_resampler.aggregation.aggregators.MinMaxLTTB" title="plotly_resampler.aggregation.aggregators.MinMaxLTTB"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinMaxLTTB</span></code></a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li><p>This class is mainly designed to operate on numerical data as LTTB calculates
distances on the values. <br>
When dealing with categories, the data is encoded into its numeric codes,
these codes are the indices of the category array.</p></li>
<li><p>To aggregate category data with LTTB, your <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> must be of dtype
‚Äòcategory‚Äô. <br>
<strong>Tip</strong>: if there is an order in your categories, order them that way, LTTB uses
the ordered category codes values (see bullet above) to calculate distances and
make aggregation decisions.
.. code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cat_type</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">CategoricalDtype</span><span class="p">(</span><span class="n">categories</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">],</span> <span class="n">ordered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s_cat</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">cat_type</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><cite>LTTB</cite> has no downsample kwargs, as it cannot be paralellized. Instead, you can
use the <a class="reference internal" href="#plotly_resampler.aggregation.aggregators.MinMaxLTTB" title="plotly_resampler.aggregation.aggregators.MinMaxLTTB"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinMaxLTTB</span></code></a> downsampler, which performs
minmax preselection (in parallel if configured so), followed by LTTB.</p></li>
</ul>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.LTTB.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interleave_gaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#LTTB.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.LTTB.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interleave_gaps</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Whether None values should be added when there are gaps / irregularly
sampled data. A quantile-based approach is used to determine the gaps /
irregularly sampled data. By default, True.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.MinMaxOverlapAggregator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregators.</span></span><span class="sig-name descname"><span class="pre">MinMaxOverlapAggregator</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#MinMaxOverlapAggregator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.MinMaxOverlapAggregator" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.aggregation_interface.DataPointSelector" title="plotly_resampler.aggregation.aggregation_interface.DataPointSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.aggregation_interface.DataPointSelector</span></code></a></p>
<p>Aggregation method which performs binned min-max aggregation over 50% overlapping
windows.</p>
<img alt="_images/minmax_operator.png" src="_images/minmax_operator.png" />
<p>In the above image, <strong>bin_size</strong>: represents the size of <em>(len(series) / n_out)</em>.
As the windows have 50% overlap and are consecutive, the min &amp; max values are
calculated on a windows with size (2x bin-size).</p>
<p>This is <em>very</em> similar to the MinMaxAggregator, emperical results showed no
observable difference between both approaches.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is implemented in Python (leveraging numpy for vecotrization), but
is <strong>significantly slower than the MinMaxAggregator</strong> (which is implemented in
the tsdownsample toolkit in Rust). <br>
As such, this class does not support any downsample kwargs.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.MinMaxOverlapAggregator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interleave_gaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#MinMaxOverlapAggregator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.MinMaxOverlapAggregator.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interleave_gaps</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Whether None values should be added when there are gaps / irregularly
sampled data. A quantile-based approach is used to determine the gaps /
irregularly sampled data. By default, True.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.MinMaxAggregator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregators.</span></span><span class="sig-name descname"><span class="pre">MinMaxAggregator</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#MinMaxAggregator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.MinMaxAggregator" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.aggregation_interface.DataPointSelector" title="plotly_resampler.aggregation.aggregation_interface.DataPointSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.aggregation_interface.DataPointSelector</span></code></a></p>
<p>Aggregation method which performs binned min-max aggregation over fully
overlapping windows.</p>
<p>This is arguably the most computational efficient downsampling method, as it only
performs (non-expensive) comparisons on the data in a single pass.</p>
<p>Details on visual representativeness &amp; stability: <a class="reference external" href="https://arxiv.org/abs/2304.00900">https://arxiv.org/abs/2304.00900</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is rather efficient when scaling to large data sizes and can be used
as a data-reduction step before feeding it to the <a class="reference internal" href="#plotly_resampler.aggregation.aggregators.LTTB" title="plotly_resampler.aggregation.aggregators.LTTB"><code class="xref py py-class docutils literal notranslate"><span class="pre">LTTB</span></code></a>
algorithm, as <a class="reference internal" href="#plotly_resampler.aggregation.aggregators.MinMaxLTTB" title="plotly_resampler.aggregation.aggregators.MinMaxLTTB"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinMaxLTTB</span></code></a> does with the
<a class="reference internal" href="#plotly_resampler.aggregation.aggregators.MinMaxOverlapAggregator" title="plotly_resampler.aggregation.aggregators.MinMaxOverlapAggregator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinMaxOverlapAggregator</span></code></a>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.MinMaxAggregator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interleave_gaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">downsample_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#MinMaxAggregator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.MinMaxAggregator.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interleave_gaps</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Whether None values should be added when there are gaps / irregularly
sampled data. A quantile-based approach is used to determine the gaps /
irregularly sampled data. By default, True.</p></li>
<li><p><strong>**downsample_kwargs</strong> ‚Äì Keyword arguments passed to the <code class="xref py py-class docutils literal notranslate"><span class="pre">MinMaxDownsampler</span></code>.
- The <cite>parallel</cite> argument is set to False by default.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.MinMaxLTTB">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregators.</span></span><span class="sig-name descname"><span class="pre">MinMaxLTTB</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#MinMaxLTTB"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.MinMaxLTTB" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.aggregation_interface.DataPointSelector" title="plotly_resampler.aggregation.aggregation_interface.DataPointSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.aggregation_interface.DataPointSelector</span></code></a></p>
<p>Efficient version off LTTB by first reducing really large datasets with
the <a class="reference internal" href="#plotly_resampler.aggregation.aggregators.MinMaxAggregator" title="plotly_resampler.aggregation.aggregators.MinMaxAggregator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinMaxAggregator</span></code></a> and then further aggregating the
reduced result with <a class="reference internal" href="#plotly_resampler.aggregation.aggregators.LTTB" title="plotly_resampler.aggregation.aggregators.LTTB"><code class="xref py py-class docutils literal notranslate"><span class="pre">LTTB</span></code></a>.</p>
<p>Starting from 10M data points, this method performs the MinMax-prefetching of data
points to enhance computational efficiency.</p>
<p>Inventors: Jonas &amp; Jeroen Van Der Donckt - 2022</p>
<p>Paper: pending</p>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.MinMaxLTTB.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interleave_gaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minmax_ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">downsample_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#MinMaxLTTB.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.MinMaxLTTB.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interleave_gaps</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Whether None values should be added when there are gaps / irregularly
sampled data. A quantile-based approach is used to determine the gaps /
irregularly sampled data. By default, True.</p></li>
<li><p><strong>minmax_ratio</strong> (<em>int</em><em>, </em><em>optional</em>) ‚Äì The ratio between the number of data points in the MinMax-prefetching and
the number of data points that will be outputted by LTTB. By default, 4.</p></li>
<li><p><strong>**downsample_kwargs</strong> ‚Äì <p>Keyword arguments passed to the <code class="xref py py-class docutils literal notranslate"><span class="pre">MinMaxLTTBDownsampler</span></code>.
- The <cite>parallel</cite> argument is set to False by default.
- The <cite>minmax_ratio</cite> argument is set to 30 by default, whic was empirically</p>
<blockquote>
<div><p>proven to be a good default.</p>
</div></blockquote>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.EveryNthPoint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregators.</span></span><span class="sig-name descname"><span class="pre">EveryNthPoint</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#EveryNthPoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.EveryNthPoint" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.aggregation_interface.DataPointSelector" title="plotly_resampler.aggregation.aggregation_interface.DataPointSelector"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.aggregation_interface.DataPointSelector</span></code></a></p>
<p>Naive (but fast) aggregator method which returns every N‚Äôth point.</p>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.EveryNthPoint.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interleave_gaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#EveryNthPoint.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.EveryNthPoint.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>interleave_gaps</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Whether None values should be added when there are gaps / irregularly
sampled data. A quantile-based approach is used to determine the gaps /
irregularly sampled data. By default, True.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.FuncAggregator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.aggregators.</span></span><span class="sig-name descname"><span class="pre">FuncAggregator</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#FuncAggregator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.FuncAggregator" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.aggregation_interface.DataAggregator" title="plotly_resampler.aggregation.aggregation_interface.DataAggregator"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.aggregation_interface.DataAggregator</span></code></a></p>
<p>Aggregator instance which uses the passed aggregation func.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The user has total control which <cite>aggregation_func</cite> is passed to this method,
hence the user should be careful to not make copies of the data, nor write to
the data. Furthermore, the user should beware of performance issues when
using more complex aggregation functions.</p>
</div>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The user has total control which <cite>aggregation_func</cite> is passed to this method,
hence it is the users‚Äô responsibility to handle categorical and bool-based
data types.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.aggregators.FuncAggregator.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">aggregation_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interleave_gaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_dtype_regex_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_dtype_regex_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">downsample_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/aggregators.html#FuncAggregator.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.aggregators.FuncAggregator.__init__" title="Permalink to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>aggregation_func</strong> (<em>Callable</em>) ‚Äì The aggregation function which will be applied on each pin.</p></li>
<li><p><strong>interleave_gaps</strong> (<em>bool</em><em>, </em><em>optional</em>) ‚Äì Whether None values should be added when there are gaps / irregularly
sampled data. A quantile-based approach is used to determine the gaps /
irregularly sampled data. By default, True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="gap-handling-interface">
<h2>Gap handling interface<a class="headerlink" href="#gap-handling-interface" title="Permalink to this headline">#</a></h2>
<span class="target" id="module-plotly_resampler.aggregation.gap_handler_interface"></span><p>AbstractGapHandler interface-class, subclassed by concrete gap handlers.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.gap_handler_interface.</span></span><span class="sig-name descname"><span class="pre">AbstractGapHandler</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/gap_handler_interface.html#AbstractGapHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler.insert_none_between_gaps">
<span class="sig-name descname"><span class="pre">insert_none_between_gaps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_agg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_agg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idxs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/gap_handler_interface.html#AbstractGapHandler.insert_none_between_gaps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler.insert_none_between_gaps" title="Permalink to this definition">#</a></dt>
<dd><p>Insert None values in the y_agg array when there are gaps.</p>
<p>Gaps are determined by the x_agg array. The <cite>_get_gap_mask</cite> method is used to
determine a boolean mask indicating the indices where there are gaps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_agg</strong> (<em>np.ndarray</em>) ‚Äì The x array. This is used to determine the gaps.</p></li>
<li><p><strong>y_agg</strong> (<em>np.ndarray</em>) ‚Äì The y array. A copy of this array will be expanded with None values where
there are gaps.</p></li>
<li><p><strong>idxs</strong> (<em>np.ndarray</em>) ‚Äì The index array. This is relevant aggregators that perform data point
selection (e.g., max, min, etc.) - this array will be expanded with the
same indices where there are gaps.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The expanded y_agg array and the expanded idxs array respectively.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<hr class="docutils" />
<section id="gap-handling-classes">
<h2>Gap handling classes<a class="headerlink" href="#gap-handling-classes" title="Permalink to this headline">#</a></h2>
<span class="target" id="module-plotly_resampler.aggregation.gap_handlers"></span><p>Compatible implementation for various gap handling methods.</p>
<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.gap_handlers.NoGapHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.gap_handlers.</span></span><span class="sig-name descname"><span class="pre">NoGapHandler</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/gap_handlers.html#NoGapHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.gap_handlers.NoGapHandler" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler" title="plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler</span></code></a></p>
<p>No gap handling.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.gap_handlers.MedDiffGapHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.gap_handlers.</span></span><span class="sig-name descname"><span class="pre">MedDiffGapHandler</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/gap_handlers.html#MedDiffGapHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.gap_handlers.MedDiffGapHandler" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <a class="reference internal" href="#plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler" title="plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">plotly_resampler.aggregation.gap_handler_interface.AbstractGapHandler</span></code></a></p>
<p>Gap handling based on the median diff of the x_agg array.</p>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-plotly_resampler.aggregation.plotly_aggregator_parser">
<span id="aggregator-parsing"></span><h2>Aggregator parsing<a class="headerlink" href="#module-plotly_resampler.aggregation.plotly_aggregator_parser" title="Permalink to this headline">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">plotly_resampler.aggregation.plotly_aggregator_parser.</span></span><span class="sig-name descname"><span class="pre">PlotlyAggregatorParser</span></span><a class="reference internal" href="_modules/plotly_resampler/aggregation/plotly_aggregator_parser.html#PlotlyAggregatorParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser" title="Permalink to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser.parse_hf_data">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_hf_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hf_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/plotly_aggregator_parser.html#PlotlyAggregatorParser.parse_hf_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser.parse_hf_data" title="Permalink to this definition">#</a></dt>
<dd><p>Parse the high-frequency data to a numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray | pd.Categorical</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>hf_data</strong> (<em>np.ndarray</em><em> | </em><em>pd.Categorical</em><em> | </em><em>pd.Series</em><em> | </em><em>pd.Index</em>) ‚Äì </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser.to_same_tz">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_same_tz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_tz</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/plotly_aggregator_parser.html#PlotlyAggregatorParser.to_same_tz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser.to_same_tz" title="Permalink to this definition">#</a></dt>
<dd><p>Adjust <cite>ts</cite> its timezone to the <cite>reference_tz</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Timestamp</span></code>]</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ts</strong> (<em>Optional</em><em>[</em><em>pandas._libs.tslibs.timestamps.Timestamp</em><em>]</em>) ‚Äì </p></li>
<li><p><strong>reference_tz</strong> (<em>Optional</em><em>[</em><em>pytz.tzinfo.BaseTzInfo</em><em>]</em>) ‚Äì </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser.get_start_end_indices">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_start_end_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hf_trace_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/plotly_aggregator_parser.html#PlotlyAggregatorParser.get_start_end_indices"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser.get_start_end_indices" title="Permalink to this definition">#</a></dt>
<dd><p>Get the start &amp; end indices of the high-frequency data.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser.aggregate">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hf_trace_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/plotly_resampler/aggregation/plotly_aggregator_parser.html#PlotlyAggregatorParser.aggregate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#plotly_resampler.aggregation.plotly_aggregator_parser.PlotlyAggregatorParser.aggregate" title="Permalink to this definition">#</a></dt>
<dd><p>Aggregate the data in <cite>hf_trace_data</cite> between <cite>start_idx</cite> and <cite>end_idx</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>the aggregated x-values
- y: the aggregated y-values
- indices: the indices of the hf_data data that were aggregated</p>
<p>These indices are useful to select the corresponding hf_data from
non <cite>x</cite> and <cite>y</cite> data (e.g. <cite>text</cite>, <cite>marker_size</cite>, <cite>marker_color</cite>).</p>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>x</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hf_trace_data</strong> (<em>dict</em>) ‚Äì </p></li>
<li><p><strong>start_idx</strong> (<em>int</em>) ‚Äì </p></li>
<li><p><strong>end_idx</strong> (<em>int</em>) ‚Äì </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


                </article>
              
              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-plotly_resampler.aggregation.aggregation_interface">Aggregation interface</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-plotly_resampler.aggregation.aggregators">Aggregator classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gap-handling-interface">Gap handling interface</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gap-handling-classes">Gap handling classes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-plotly_resampler.aggregation.plotly_aggregator_parser">Aggregator parsing</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div class="tocsection sourcelink">
    <a href="_sources/aggregation.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">
  <p class="copyright">
    
      ¬© Copyright 2023, Jonas Van Der Donckt.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">
  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
    <div class="footer-items__end">
      
        <div class="footer-item"><p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.13.3.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>